{% extends 'base.html'%}
{% load static %}

{% block content%}
<style>
    .bg-primary{
        background-color:#00B2BD !important;
    }
    .active{
        background-color:#00B2BD !important;
    }
    .btn-primary{
        
        background-color: black;
    }
    .btn-primary:hover{
        background-color:#00B2BD !important;
        
    }
</style>
<link rel="stylesheet" href="{% static 'css/user_dashboard.css'%}">

<section class="section-conten padding-y bg">

    <div class="container">
        <div class="row">
        <aside class="col-md-3">
            <!--   SIDEBAR   -->
            <ul class="list-group" >
                <a style="color: rgb(255, 255, 255) !important; font-weight: bold;" class="list-group-item active" href="{% url 'user_dashboard' %}"> My Profile </a>
                <a style="color: black !important;" class="list-group-item" href="{% url 'ordered_details' %}">Recent Bookings</a>
                
                <a style="color: black !important;" class="list-group-item" href="{% url 'my_address'%}"> My Addresses </a>
                <a style="color: black !important;" class="list-group-item" href="{% url 'password_otp'%}"> Change Password </a>
            </ul>
            <br>
            <a class="btn btn-primary btn-block" href="{% url 'logout'%}">Log out <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
              width="58" height="58"
              viewBox="0 0 172 172"
              style=" fill:#000000;height: 23px;width: auto;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M78.96756,0l-72.35218,14.64702v142.70596l72.35218,14.64702zM84.48182,15.14949v141.72471l45.70688,0.01364v-56.74329h-22.55591c-1.52301,0 -2.75713,-1.23414 -2.75713,-2.75641v-22.77628c0,-1.52227 1.23412,-2.75641 2.75713,-2.75641h22.55591v-56.70596zM56.98878,64.32988c1.52301,0 2.75785,1.23342 2.75785,2.75569v22.94137c0,1.52227 -1.23484,2.75641 -2.75785,2.75641c-1.52301,0 -2.75713,-1.23414 -2.75713,-2.75641v-22.94137c0,-1.52227 1.23412,-2.75569 2.75713,-2.75569zM147.21887,70.54903v6.81853h-36.82895v17.26489h36.82895v6.82642l18.16575,-15.44164zM56.98878,98.29474c1.52301,0 2.75785,1.23414 2.75785,2.75641v3.86328c0,1.52227 -1.23484,2.75569 -2.75785,2.75569c-1.52301,0 -2.75713,-1.23342 -2.75713,-2.75569v-3.86328c0,-1.52227 1.23412,-2.75641 2.75713,-2.75641z"></path></g></g></svg> <span class="text"></span> </a> 
           <!--   SIDEBAR .//END   -->
        </aside>
        <main class="col-md-9">
            <div class="container">
              {% include 'includes/alerts.html' %}
                <div class="">
                
                      <!-- Breadcrumb -->
                      
                      <!-- /Breadcrumb -->
                
                      <div class="row gutters-sm">
                        <div class="col-md-4 mb-3">
                          <div class="card">
                            <div class="card-body">
                              <div class="d-flex flex-column align-items-center text-center">
                                  {% if user.dp.url is not None %}
                                  <img src="{{user.dp.url}}" alt="Admin" class="rounded-circle" width="150">
                                  {% else %}
                                <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                                {% endif %}
                                <div class="mt-3">
                                  <h4>{{user.first_name}}_{{user.last_name}}</h4>
                                  <p class="text-secondary mb-1">Total Bookings : {{order_count}}</p>
                                  <p class="text-muted font-size-sm">Cancelled Bookings : {{cancelled_order_count}}</p>
                                  
                                  <h6 class="text-center">{{customer_rating}}/5</h6>
                                  <div class="progress mb-3" style="height: 5px">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: {{customer_rating_percent}}% " aria-valuenow="{{customer_rating}}" aria-valuemin="0" aria-valuemax="5"></div>
                                    
                                  </div>
                                  <p>Customer Rating </p>
                                  
                                </div>
                              </div>
                            </div>
                          </div>
                          
                        </div>
                        <div class="col-md-8">
                          <div class="card mb-3">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-3">
                                      <h6 class="mb-0">Full Name</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary">
                                      {{user.first_name}} {{user.last_name}}
                                    </div>
                                  </div>
                                  <hr>

                              
                              <div class="row">
                                <div class="col-sm-3">
                                  <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                  {{user.email}}
                                </div>
                              </div>
                              <hr>
                             
                              <div class="row">
                                <div class="col-sm-3">
                                  <h6 class="mb-0">Mobile</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                  +91{{user.mobile}}
                                </div>
                              </div>
                              <hr>
                              <div class="row">
                                <div class="col-sm-3">
                                  <h6 class="mb-0">Gender</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                  {{user.gender}}
                                </div>
                              </div>
                              <hr>
                              <div class="row">
                                <div class="col-sm-3">
                                  <h6 class="mb-0">Joined</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                  {{user.get_date}} 
                                </div>
                              </div>
                             

                             
                            </div>
                          </div>
            
                         
                          </div>
            
            
            
                        </div>
                      </div>
            
                    </div>
                </div>
          
            
        </main>
    </div> <!-- row.// -->
    </div>
    
    
    </section>
{% endblock%}