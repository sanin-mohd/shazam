{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>
    .active{
        background-color:#00B2BD !important;
    }
    .btn-primary{
        
        background-color: black;
    }
    .btn-primary:hover{
        background-color:#00B2BD !important;
        
    }
    .btn-success{
        
        background-color:#00B2BD ;
    }
    .btn-success:hover{
        
        background-color: black !important;
        
    }
</style>
<section class="section-conten padding-y bg">

    <div class="container">
        <div class="row">
        <aside class="col-md-3">
            <!--   SIDEBAR   -->
            <ul class="list-group" >
                <a style="color: black !important; " class="list-group-item " href="{% url 'user_dashboard' %}"> My Profile </a>
                <a style="color: black !important;" class="list-group-item " href="{% url 'ordered_details' %}">Recent Bookings</a>
                <a style="color: black !important;" class="list-group-item" href="#"> Recent Test Drives</a>
               <a style="color: rgb(255, 255, 255) !important;font-weight: bold;" class="list-group-item active" href="{% url 'my_address'%}"> My Addresses </a>
                <a style="color: black !important;" class="list-group-item" href="{% url 'password_otp'%}"> Change Password </a>
            </ul>
            <br>
            <a class="btn btn-primary btn-block" href="{% url 'logout'%}"> <img src="https://img.icons8.com/external-sbts2018-solid-sbts2018/58/000000/external-logout-social-media-sbts2018-solid-sbts2018.png"/> <span class="text">Log out</span> </a> 
            <!--   SIDEBAR .//END   -->
        </aside>
        <main class="col-md-9">
            
            <!--  -->
            <div id="accordion">
                
                <div class="card">
                  
                  
                    <form method="post" action="{% url 'edit_address' address.id %}">
                        {% csrf_token %}
                    <article class="card mb-4">
                        <div class="card-body">
                          <h4 class="card-title mb-4">Address <input type="submit" value="Update" class="btn btn-success " style="float: right;" name="" id=""></h4>
                          
                              
                          
                            <div class="row">
                                
                                    
                                
                              <div class="form-group col-sm-12">
                                <label>Full Name</label>
                                <input
                                  type="text"
                                  placeholder="Type here"
                                  class="form-control"
                                  name='full_name'
                                  value="{{address.full_name}}"
                                />
                              </div>
                              <div class="form-group col-sm-6">
                                <label>Address Line 1</label>
                                <input
                                  type="text"
                                  placeholder="Type here"
                                  class="form-control"
                                  name='address_line_1'
                                  value="{{address.address_line_1}}"
                                />
                              </div>
                              <div class="form-group col-sm-6">
                                <label>Address Line 2</label>
                                <input
                                  type="text"
                                  placeholder="Type here"
                                  class="form-control"
                                  name='address_line_2'
                                  value="{{address.address_line_2}}"
                                />
                              </div>
                              <div class="form-group col-sm-6">
                                <label>City*</label>
                                <input
                                  type="text"
                                  placeholder="Type here"
                                  class="form-control"
                                  name='city'
                                  value="{{address.city}}"
                                />
                              </div>
                              <div class="form-group col-sm-6">
                                <label>Postal code</label>
                                <input name='zip_code' type="text" value="{{address.zip_code}}" placeholder="" class="form-control" />
                                
                              </div>
                              
                              <div class="form-group col-sm-4">
                                <label>State*</label>
                                <input
                                  type="text"
                                  placeholder="Type here"
                                  class="form-control"
                                  name='state'
                                  value="{{address.state}}"
          
                                />
                              </div>
                              <div class="form-group col-sm-4">
                                <label>Country*</label>
                                <select name="country" class="form-control">
                                <option selected value="{{address.country}}">{{address.country}}</option>
                                  <option value="India">India</option>
                                  <option value="United States">United States</option>
                                  <option value="France">France</option>
                                  <option value="Italy">Italy</option>
                                </select>
                              </div>
                              <div class="form-group col-sm-4">
                                <label>Mobile</label>
                                <input name='mobile' type="text" value="{{address.mobile}}" placeholder="" class="form-control" />
                              </div>
                              
                             
                              <div class="form-group col-sm-12">
                                <label>Landmark</label>
                                <input name='landmark' value="{{address.landmark}}" type="text" placeholder="" class="form-control" />
                              </div>
                             
                              
                              
                            </div>
                            <!-- row.// -->
                          
                        </div>
                        <!-- card-body.// -->
                      </article>
                    </form>
                 
                </div>
                
              </div>
            
        </main>
    </div> <!-- row.// -->
    </div>
    
    
    </section>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        function deleteAddress(ev) {
            ev.preventDefault();
            var urlToRedirect = ev.currentTarget.getAttribute('href'); //use currentTarget because the click may be on the nested i tag and not a tag causing the href to be empty
            
            swal({
              title: "Are you sure?",
              text: "",
              icon: "warning",
              buttons: true,
              dangerMode: true,
            })
            .then((willDelete) => {
              // redirect with javascript here as per your logic after showing the alert using the urlToRedirect value
              if (willDelete) {
                swal("Poof! Your Address has been deleted!", {
                  icon: "success",
                });
                window.location.href = urlToRedirect;
              } else {
                swal("No changes..");
              }
            });
            console.log(urlToRedirect); // verify if this is the right URL
            console.log("-----------------------")
            
            }
    </script>
    

{% endblock%}
